"use strict";requirejs.config({deps:["jquery","sammy","knockout","util","route","promise","service.route","service.backend","service.loading","service.scrollbar.desktop","service.player.desktop","service.comicviewer.activex","service.modal","service.placeholder","service.adult-verify","service.weblauncher.desktop","viewmodel.base","viewmodel.adultverify","viewmodel.weblauncher","viewmodel.movielist","viewmodel.moviedetail","viewmodel.comicmenu","viewmodel.comiclist","viewmodel.comicdetail"],map:{"*":{"service.scrollbar":"service.scrollbar.desktop","service.player":"service.player.desktop","service.weblauncher":"service.weblauncher.desktop","service.comicviewer":"service.comicviewer.activex"}}}),define("service",["jquery","knockout"],function(){var e={};return function(t){var i,n;return e.hasOwnProperty(t)===!1?(i="service."+t,n=require(i),e[t]=n,n):e[t]}}),define("viewmodel",["jquery","knockout"],function(){var e,t={};return e=function(e){var i,n,o;return t.hasOwnProperty(e)===!1?(i="viewmodel."+e,n=require(i),o=new n,t[e]=o,o):t[e]},e.apply=function(){var e,i=t;for(e in i)i[e].apply()},e.destroy=function(){var e,i=t;for(e in i)i[e].destroy()},e}),define("service.adult-verify",["jquery","util","viewmodel","service.modal"],function(e,t,i,n,o){var r,s,a,c,l,u=__info__,d=u&&parseInt(u.adult_verify)?!0:!1,f=!d,h="adult-verify-isAdult",v=6,p=t.promise();return s=function(e,i){return"cancel"===e?(p.anyway(e,i),void c()):void l.promise().done(function(e,i){alert("new"===e?"인증 성공!":"exists"===e?"인증 성공.":"인증 성공 : "+e),t.cookie.set(h,"yes",v),f=!0,r.hide(),p.resolve(e,i)}).fail(function(e,t){alert(t),"tooYoung"===e&&r.hide(),p.reject(e,t)})},c=function(){r.unbindAll(),p.unbind()},a=function(){r&&(c(),r.destroy(),r=o)},function(e){return"destroy"===e?void a():(d&&(f="yes"===t.cookie.get(h)),f===!0?(p.immediate("done")("exists",""),p):(r||(l=e&&e.viewModel?i(e.viewModel).init():i("adultverify").init(),r=n(t.mapValDef(e,"modal","#modal_adultVerify"))),r.bind("result",s).clear().show(),p))}}),define("service.backend",["jquery","util","service.cache"],function(e,t,i,n){var o,r,s;return o=function(e,t){var i,n=[];for(i in t)n.push(t[i]);return n.join("_")},r=function(t){var i,n;if(e.isPlainObject(t))return t;n={};for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n},s=function(s,a,c,l,u){var d,f,h,v,p,m;if(h=r(c),l===!0&&(v=o(a,h),p=i.get(v),p!==n))return m=t.promise(),m.immediate("done")(p),m;try{return f=l===!0?e[s](a,h,function(e){i.put(v,e,u)},"json"):e[s](a,h,t.noop,"json")}catch(y){return d=y,m=t.promise(),m.immediate("fail")(d),m}},function(e,t,i,n){return"get"===e||"post"===e?s.apply(this,arguments):s.call(this,"get",e,t,i,n)}}),define("service.cache",[],function(e){var t={},i={},n=[],o=100;return{get:function(i){return this.isTimeout(i)?(this.remove(i),e):t[i]},put:function(e,r,s){var a,c,l,u=s?parseInt(s):0,d=n.length;d++,d>o&&(l=n.pop(),this.remove(l)),t[e]=r,n.push(e),u>0?(a=new Date,c=a.getTime(),i[e]=c+1e3*u):i[e]=0},remove:function(e){delete t[e],delete i[e]},isTimeout:function(e){var t,n,o=i[e];return 0===o?!1:(t=new Date,n=t.getTime(),n>=o)}}}),define("service.comicviewer.activex",["jquery","util","service"],function(e,t){function i(e,t,i){var n=e,o=t,r=i;return"http://b2b.newkey.co.kr/viewer/weblauncher_trigger.php?c_id="+n+"&b_id="+o+"&cat="+r}return function(n){var o=t.mapValDef(n,"serial"),r=t.mapValDef(n,"book_serial"),s=t.mapValDef(n,"type"),a=i(o,r,s);return{show:function(){var t=!1,i="";if(o&&r&&s)try{e(".comicviewer-trigger")[0].src=a,t=!0}catch(n){i="뷰어 트리거가 존재하지 않습니다."}else i="뷰어 수행에 필요한 값이 부족합니다.\n"+o+"_"+r+"_"+s;return""!==i&&alert(i),t}}}}),define("delay",function(){var e,t={};return e=function(i,n,o,r,s,a,c,l){var u,d,f,h,v=!1,p=!1,m=0;if(void 0===a){if("Array"!==Object.prototype.toString.call(i).slice(8,-1))return!1;d=i.length,n>=d&&(v=!0),u=n,a=0,p=!0}else{if(!(a>0))return!1;if(a>=c)return!0;a+n>=c?(v=!0,u=c-a):u=n,d=c}return f=r.call(s,i.slice(a,a+u),a,d,v),f===!1?!0:v?!0:(p&&(h=new Date,l=h.getTime()),m=setTimeout(function(){e(i,n,o,r,s,a+=n,d,l)},o),t[l]=m,l)},function(i,n,o){return function(r,s){var a=e(i,n,o,r,s),c={id:0,stop:function(e){void 0===e&&(e=this.id),clearTimeout(t[e])},stopAll:function(){var e,i=t;for(e in i)clearTimeout(i[e])},pause:function(){}};return c.id=a,c}}}),define("jquery",function(){return jQuery}),define("knockout",function(){return ko}),define("sammy",["jquery"],function(){return Sammy}),define("service.loading",["jquery","util"],function(e){return function(t){var i,n=e(t),o=n.is(":visible");return i=function(e){e===!1?(n.hide(),o=!1):(n.show(),o=!0)},i.destroy=function(t){e(t).remove()},i.shown=function(){return o},i}}),define("service.modal",["jquery","service","util"],function(e,t,i,n){function o(e){var t=e.prevAll(".modal-overlay");return 0===t.length&&(e.before('<div class="modal-overlay"></div>'),t=e.prev()),t.bind("click",a),t}function r(t){t.find("button.btn").each(function(){var t=e(this),i=t.attr("class"),n=i?i.split(" "):[],o=n.length>0?n[n.length-1]:"";""!==o&&(t.data("btnClass",o),t.mouseenter(c).mouseleave(l))})}function s(e){e.find("button.btn").removeData().unbind("mouseenter",c).unbind("mouseleave",l)}function a(t){var i=e(this);t.stopPropagation(),i.hide(),i.next().fadeOut(200)}function c(){var t=e(this),i=t.data("btnClass")+"-hover";t.hasClass(i)===!1&&t.addClass(i)}function l(){var t=e(this),i=t.data("btnClass")+"-hover";t.removeClass(i)}return function(i){function a(e,t,i,n){var o=v[e];"function"==typeof o&&o.call(d,t,i,n)}function c(){return u||(u=f.find("button[data-result]")),u}function l(t,i){var n=e(this),o=n.data("result");a("result",o,t,i),"close"===n.data("role")&&d.hide()}var u,d,f=e(i),h=o(f),v={result:n,show:n,hide:n};return r(f),c().click(l),d={show:function(){return h.show(),f.fadeIn(350,function(e){a("show",e),f.find("input").eq(0).focus()}),t("placeholder")(f),this},hide:function(){return h.hide(),f.fadeOut(200,function(e){a("hide",e)}),this},clear:function(){return f.find("input[type='text']").val(""),this},destroy:function(){h.remove(),h=n,s(f),c().unbind("click",l),this.unbindAll(),f=n,v=n,u=n,d=n},bind:function(e,t){return v[e]=t,this},unbind:function(e){return v[e]=n,this},unbindAll:function(){var e,t=v;for(e in t)t[e]=n;return this}}}}),define("service.placeholder",["jquery"],function(e){var t,i=window.Placeholders||!1;return t=function(){e(this).removeClass("placeholdersjs").removeClass("placeholderjs")},function(n){var o;i&&!i.nativeSupport&&(o=e(n),o.find("[placeholder]").each(function(){e(this).unbind("focusin",t).bind("focusin",t),i.enable(this)}))}}),define("service.player.desktop",["jquery","util","service.weblauncher.desktop"],function(e,t,i){return function(e){var n=t.mapValDef(e,"content_id");return{play:function(){return n?void i.play(e):void alert("재생 할 영상 정보가 부족합니다.\nCONTENT_ID="+n)},showTV:function(){i.showTV()}}}}),define("promise",function(){function e(){}var t=function(t){var i=this;this.resolve=function(){"function"==typeof i._cbDone&&i._cbDone.apply(this,arguments),i.anyway.apply(this,arguments)},this.reject=function(){"function"==typeof i._cbFail&&i._cbFail.apply(this,arguments),i.anyway.apply(this,arguments)},this.anyway=function(){"function"==typeof i._cbAlways&&i._cbAlways.apply(this,arguments),i.unbind()},this.immediate=function(e){return this._iw=e,function(){i._iwArgs=arguments}},this._cbDone=e,this._cbFail=e,this._cbAlways=e,this._iw="",this._iwArgs=void 0,"function"==typeof t&&t(resolve,reject)};return t.prototype={done:function(e){return"done"===this._iw?e.apply(this,this._iwArgs):this._cbDone=e,this},fail:function(e){return"fail"===this._iw?e.apply(this,this._iwArgs):this._cbFail=e,this},always:function(e){return"done"===this._iw||"fail"===this._iw?e.apply(this,this._iwArgs):this._cbAlways=e,this},unbind:function(){this._cbDone=e,this._cbFail=e,this._cbAlways=e,this._iw="",this._iwArgs=void 0}},t}),define("service.route",["jquery","sammy","service","viewmodel","util","route"],function(e,t,i,n,o,r){return function(i){var o=t(function(){var t,i,o=r(),s=0,a=-1,c=n,l=!1;if(e.isArray(o)!==!1)for(s=o.length,i=function(i){var n=i.hasOwnProperty("verb")?i.verb:"get";if(!i.url)throw"[error] route : item.url is undefined or empty.";this[n](i.url,function(n){var o,r,s=-1,a=i.controller;if(l!==!0){if(l=!0,setTimeout(function(){l=!1},100),"string"==typeof a)return void c(a).routecallback(n);if(o=i.redirectTo)return void n.redirect(o);if(!a)throw"[error] route : item.controller is undefined or empty.";if(e.isPlainObject(a))return void t(c,a,n);for(r=a.length;++s<r;)t(c,a[s],n)}})},t=function(e,t,i){var n="string"==typeof t,o=n?t:t.viewModel,r=n?"routecallback":t.method;e(o)[r](i)};++a<s;)i.call(this,o[a])});o.run(i)}}),define("service.scrollbar.desktop",["jquery","knockout"],function(e,t,i){var n,o={};return n=function(t){var n,r;return n=function(e){var t,i,n;r.delaying!==!0&&(t=r.getScrollbar(),i=t.contentPosition,n=t.contentSize-t.trackSize-50,i>=n&&(r.delaying=!0,setTimeout(function(){r.delaying=!1},1e3),r.callback(r,e,t)))},r={selector:t,callback:e.noop,delaying:!1,apply:function(){var i,n=o;n.hasOwnProperty(this.selector)===!1?(i=e(this.selector),n[t]=i):i=n[t],i.tinyscrollbar()},refresh:function(e){var t=e?"relative":"";this.getScrollbar().update(t)},destroy:function(){var e;e=o[this.selector],e&&(e.unbind("move"),this.callback=i,delete o[t])},getJq:function(){var e=o[this.selector];if(e)return e;throw"cannot found scrollbar jquery object : "+this.selector},getScrollbar:function(){var e=this.getJq(),t=e.data("plugin_tinyscrollbar");if(t)return t;throw"cannot found scrollbar data : "+this.selector},nearBottom:function(e){e!==i&&"function"==typeof e&&(this.callback=e,this.getJq().unbind("move",n).bind("move",n))}}},n.destroyAll=function(){var e,t=o;for(e in t)t[e].destroy(),delete t[e];t=i,o=i},n}),define("util",["jquery","knockout","promise"],function(e,t,i){return{noop:function(){return!1},noopstop:function(e){return e.stopPropagation(),!1},addKoFieldsToList:function(t,i){var n,o;if(e.isArray(t)===!1)return t;for(n=t.length,o=-1;++o<n;)t[o]=this.addKoFields(t[o],i)},addKoFields:function(i,n){var o,r,s=t;if(e.isPlainObject(n)===!0)for(o in n)r=n[o],i[o]=s.observable(r);return i},textOverflow:function(e,t,i){var n=e,o=t||103,r=i||"...",s=o-r.length;return"string"==typeof n?(n.length>o&&(n=n.substring(0,s)+r),n):e},mapValDef:function(e,t,i){return e&&e.hasOwnProperty(t)?e[t]:i},valid:function(t,i){var n,o,r,s,a,c=!0;if(!t||!e.isArray(i))return{valid:!1,target:"all",msg:"입력이 잘못 되었습니다."};for(n=-1,o=i.length;++n<o;)if(r=i[n],s=r.name,a=t[s],r.regex||(void 0===!a||null===a||""===a)&&(c=!1),r.regex.test(a)===!1&&(c=!1),c===!1)return{name:s,value:a,msg:r.msg,valid:!1};return{name:"all",msg:"",valid:!0}},trim:function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):e},cookie:{set:function(e,t,i,n){var o=new Date;o.setTime(o.getTime()+36e5*i),document.cookie=e+"="+escape(t)+"; path=/; expires="+o.toGMTString()+";",n&&(document.cookie+="domain="+n+";")},get:function(e){var t,i,n=!1,o=0,r=unescape(document.cookie);for(o=0;o<=r.length;o++)if(t=o,i=t+e.length,r.substring(t,i)==e){n=!0;break}return 1==n?(t=i+1,i=r.indexOf(";",t),t>i&&(i=r.length),r.substring(t,i)):""},remove:function(e){var t=new Date;t.setTime(t.getTime()-1);var i=m.cookie.get(e);""!=i&&(document.cookie=e+"="+i+"; path=/; expires="+t.toGMTString())}},addDate:function(e,t,i){var n=null;return n=e instanceof Date?e:new Date(e),n.setDate(n.getDate()+t),i===!1?n:this.dateFormat(n)},dateFormat:function(e,t){var i=t||"-";if(e instanceof Date){var n=e.getMonth()+1,o=e.getDate();return e.getFullYear()+i+(10>n?"0"+n:n)+i+(10>o?"0"+o:o)}return e.substring(0,4)+i+e.substring(4,6)+i+e.substring(6,8)},setAltImgEvent:function(e){return function(t,i){var n=i.currentTarget;n.src.indexOf(e)<0&&(n.src=e)}},debug:{log:function(t){e("#panel_debug").show();var i=e("#txtDebug").val();i+="\r\n"+t,e("#txtDebug").val(i)}},promise:function(e){return new i(e)}}}),define("service.weblauncher.desktop",["jquery","util"],function(e,t){function i(e){window.status=e,window.status=""}function n(){i("RESULT=MAIN_EXIT")}function o(e){var t="";t="CAP_MAIN"==e?"RESULT="+e+"|MOVE=70":"CAP_SETTING"==e?"RESULT="+e+"|MOVE=60":"RESULT="+e+"|MOVE=60|WIDTH=60",i(t)}function r(e){var i=t.mapValDef,n="RESULT=CONTENTS|ID_CONTENTS="+i(e,"content_id")+"|ADULT="+i(e,"isAdult","N")+"|NM_MOVIE="+i(e,"title","")+"|IS_DEMO="+i(e,"isDemo","0")+"|DEMO_PLAY_SEC="+c+"|LOGO_ADULT="+i(e,"logo_adult","0")+"|IS_3D="+i(e,"is3D","0");return n}function s(){i("D"===l?"RESULT=TV":"RESULT=TV_KBS")}var a=__info__,c=3e5,l=a&&a.client_type?a.client_type:"E";return o("CAP_MAIN"),a=void 0,{close:function(){n()},captionMove:function(){o("CAP_MAIN")},play:function(e){var t=r(e);i(t)},showTV:function(){s()}}}),define("route",["jquery","knockout","sammy","service","viewmodel","util"],function(){return function(){return[{url:"#/",redirectTo:"#/movie/1/0"},{url:"#/movie/:category/:adult",controller:["movielist",{viewModel:"weblauncher",method:"rc_mainmenu"}]},{verb:"post",url:"#/adultVerify",controller:"adultverify"},{url:"#/newkey/:type/:genre",controller:[{viewModel:"weblauncher",method:"rc_comicmenu"},"comicmenu","comiclist"]},{verb:"post",url:"#/newkey/search",controller:"comiclist"},{url:"#/tv",controller:{viewModel:"weblauncher",method:"rc_tvmenu"}}]}}),define("viewmodel.adultverify",["jquery","knockout","service","util","viewmodel.base"],function(e,t,i,n,o,r){var s,a=function(){this.loading=n.noop,this._promise=r};return a.prototype=new o,a.constructor=a,s=a.prototype,s.init=function(){var e={section:"#form_adultVerify"};return o.prototype.init.call(this,e),this.loading=i("loading")(this.section+"+.loading"),this},s.destroy=function(){this.loading&&this.loading.destroy(this.DOMSection),this.unbindCallbackOnVerify(),o.prototype.destroy.call(this)},s.validate=function(e){var t=n.valid(e,[{name:"name",msg:"이름은 한글로 최소 두글자 이상 입력 하십시오.",regex:/^[가-힣]{2,}$/},{name:"birth",msg:"생년월일은 숫자 8자리로 입력 하십시오.",regex:/^\d{8}$/},{name:"telnum",msg:"핸드폰 번호는 010, 011, 016, 017, 018, 019 로 시작하며 최소 9자리, 최대 11자리의 숫자로만 작성 하십시오.",regex:/^01[0-9]\d{6,8}$/}]);return t},s.promise=function(){return this._promise===r&&(this._promise=n.promise()),this._promise},s.routecallback=function(e){var t=this,n=e.params,o=this.validate(n);return o.valid===!1?(alert(o.msg),this.jqSection.find("input[name='"+o.name+"']").focus(),!1):(t.loading(),void i("backend")("post","/exec/adult_verify.php",e.params).done(function(e){return e&&e.result?void(e.result.valid?t.promise().resolve(e.data,e.result.msg):t.promise().reject(e.data,e.result.msg)):void t.promise().reject(e,"원격 인증 서버로부터 잘못된 응답이 전송 되었습니다.\n응답 데이터 형식이 맞지 않거나 응답 내용이 비어 있습니다.")}).fail(function(e){t.promise().reject(e,"원격 인증 서버가 정상적으로 동작하지 않거나 존재하지 않습니다.\n인터넷 연결 상태나 인증서버 상태를 확인 하시길 바랍니다.")}).always(function(){t.loading(!1)}))},s.onapply=function(){},a}),define("viewmodel.base",["jquery","knockout","service","util"],function(e,t,i,n,o){var r=function(){this.binded=!1},s=r.prototype;return s.jqSection=null,s.DOMSection=null,s.section="",s.init=function(t){var i,n,o;if(this.jqSection)return this;i=t?t:{section:"#viewmodel_section"},n=e(i.section),this.jqSection=n,this.DOMSection=n[0];for(o in i)this[o]=i[o];return n.unload(this.destroy),this},s.destroy=function(){t.cleanNode(this.DOMSection),this.jqSection&&(this.jqSection.remove(),this.jqSection=o),this.DOMSection&&(this.DOMSection=o),this.section&&(this.section=o)},s.apply=function(){!this.binded&&this.DOMSection&&(t.applyBindings(this,this.DOMSection),this.binded=!0)},s.onapply=n.noop,r}),define("viewmodel.comicdetail",["jquery","knockout","service","util","viewmodel","viewmodel.moviedetail"],function(e,t,i,n,o,r){var s,a=function(){var e=this;this.scrollbar=null,this.loading=n.noop,this.detail=t.observable(),this.detailUrl="",this.newConditionDate=n.addDate(new Date,-15),this.play=function(t){var n=e.detail(),r=o("comicmenu"),s={serial:n.serial,book_serial:t.book_serial,type:"comic",grade:parseInt(n.grade)};r&&(s.type=r.type()),s.grade>0?i("adult-verify")().done(function(){i("comicviewer")(s).show()}):i("comicviewer")(s).show()}};return a.prototype=new r,a.constructor=a,s=a.prototype,s.init=function(){var e={section:"#comic_detail",detailUrl:"/exec/comic_detail.php"};return r.prototype.init.call(this,e),this.scrollbar=i("scrollbar")(this.section),this.scrollbar.apply(),this},s.onRefresh=function(){this.scrollbar.refresh()},s.isNew=function(e){return this.newConditionDate<=e},a}),define("viewmodel.comiclist",["jquery","knockout","service","util","delay","viewmodel","viewmodel.movielist"],function(e,t,i,n,o,r,s){var a,c=function(){var e=this;this.scrollbar=null,this.loading=null,this.list=t.observableArray([]),this.loaded=t.observable(!1),this.delayAPI=null,this.selectedItem=null,this.listUrl="",this.detailViewModel="",this.itemPrimaryKey="",this.newConditionDate=n.addDate(new Date,-15),this.totalcount=0,this.page=0,this.onItemOver=function(e){e.hover(!0)},this.onItemOut=function(e){e.hover(!1)},this.onItemClick=function(t){e.activeItem(t,!0)},this.onMoveNearBottom=function(){var t,i,n=e.page,o=32;1>n||e.loading.shown()||n*o>=e.totalcount||(t=r("comicmenu"),t&&(n=++e.page,i={type:t.type(),genre:t.genre(),search:t.search(),page:n,count:o},e.load(i,!0)))}};return c.prototype=new s,c.prototype.constructor=c,a=c.prototype,a.init=function(){var e={section:"#comic_list",listUrl:"/exec/comic_list_wowtvtmp.php",detailViewModel:"comicdetail",itemPrimaryKey:"serial"};return s.prototype.init.call(this,e),this.scrollbar.nearBottom(this.onMoveNearBottom),this},a.loadDetail=function(e){var t=r(this.detailViewModel),i=r("comicmenu"),n="comic";i&&(n=i.type()),t&&e&&t.load({serial:e.serial,type:n})},a.isNew=function(e){return this.newConditionDate<=e},a.cut=function(e){return n.textOverflow(e,8,"..")},a.routecallback=function(e){this.page=1,this.load(e.params)},c}),define("viewmodel.comicmenu",["jquery","knockout","service","util","viewmodel","viewmodel.base"],function(e,t,i,n,o,r){var s,a=function(){var e=this;this.type=t.observable("comic"),this.genre=t.observable(0),this.search=t.observable(""),this.onSearchClick=function(){var t;try{t=e.jqSection.find("form").submit()}catch(i){}}};return a.prototype=new r,a.constructor=a,s=a.prototype,s.init=function(t){var i={section:"#comic_menu"};return i=e.extend(i,t),r.prototype.init.call(this,i),this},s.routecallback=function(e){var t=e.params;this.type(t.type),this.genre(t.genre),this.search("")},a}),define("viewmodel.moviedetail",["jquery","knockout","service","util","viewmodel.base"],function(e,t,i,n,o){var r,s=function(){this.loading=n.noop,this.detail=t.observable(),this.detailUrl="",this.onPosterError=n.setAltImgEvent("css/img/no_poster.jpg"),this.play=function(e){e.grade>=18?i("adult-verify")().done(function(){i("player")(e).play()}):i("player")(e).play()}};return s.prototype=new o,s.constructor=s,r=s.prototype,r.init=function(t){var n={section:"#movie_detail",detailUrl:"/exec/movie_detail.php"};return n=e.extend(n,t),o.prototype.init.call(this,n),this.loading=i("loading")(this.section+" .loading"),this},r.load=function(e){var t=this,n=e;t.loading(),i("backend")(t.detailUrl,n,!0).done(function(e){t.detail(e.data),t.onRefresh()}).fail(function(){}).always(function(){t.loading(!1)})},r.timeFmt=function(e,t,i){var n=parseInt(e),o=Math.floor(n/3600),r=Math.floor(n%3600/60),s=t||"시",a=i||"분";return o+s+" "+r+a},r.onRefresh=n.noop,r.textOverflow=n.textOverflow,r.onapply=function(){},s}),define("viewmodel.movielist",["jquery","knockout","service","util","delay","viewmodel","viewmodel.base"],function(e,t,i,n,o,r,s,a){var c,l=function(){var e=this;this.scrollbar=null,this.loading=null,this.list=t.observableArray([]),this.loaded=t.observable(!1),this.delayAPI=null,this.selectedItem=null,this.noPosterPath="",this.listUrl="",this.detailViewModel="",this.totalcount=0,this.onItemOver=function(e){e.hover(!0)},this.onItemOut=function(e){e.hover(!1)},this.onItemClick=function(t){e.activeItem(t,!0)},this.onPosterError=n.setAltImgEvent("css/img/no_poster.jpg"),this.play=function(e){e.grade>=18?i("adult-verify")().done(function(){i("player")(e).play()}):i("player")(e).play()}};return l.prototype=new s,l.prototype.constructor=l,c=l.prototype,c.init=function(t){var n={section:"#movie_list",noPosterPath:"css/img/no_poster.jpg",listUrl:"/exec/movie_list.php",detailViewModel:"moviedetail"};return n=e.extend(n,t),s.prototype.init.call(this,n),this.scrollbar=i("scrollbar")(this.section),this.scrollbar.apply(),this.loading=i("loading")(this.section+" .loading"),this},c.destroy=function(){this.scrollbar&&(this.scrollbar.destroy(),this.scrollbar=a),this.loading&&this.loading.destroy(this.DOMSection),s.prototype.destroy.call(this)},c.stop=function(){this.delayAPI&&this.delayAPI.stop()},c.activeItem=function(t,i){var n,o,r=this.selectedItem;if(e.isNumeric(t))o=parseInt(t),this.list&&this.list.length>0&&o>-1&&(n=this.list()[o]);else{if(!t||!e.isFunction(t.active))return;n=t}n.active(i),r!==n&&(i===!0&&this.loadDetail(n),r&&r.active(!1)),n.active(i),this.selectedItem=n},c.loadDetail=function(e){var t=r(this.detailViewModel);t&&e&&t.load({contentId:e.content_id})},c.load=function(e,t){var r=this;r.stop(),r.loading(),r.loaded(!1),i("backend")(r.listUrl,e,!0).done(function(e){var i;e?(i=e.data||[],r.totalcount=parseInt(e.count||0)):r.totalcount=0,n.addKoFieldsToList(i,{active:!1,hover:!1,poster:!1}),t||r.list([]),r.delayAPI=o(i,16,200)(function(e,i,n,o){for(var r=-1,s=e.length;++r<s;)this.list.push(e[r]);(0===i||o)&&this.scrollbar.refresh(t),o&&this.loading(!1)},r),i&&i.length>0&&!t&&r.activeItem(i[0],!0)}).fail(function(){alert("서버에서 목록을 가져올 수 없습니다.\n잠시 후에 다시 시도 하십시요."),r.list([])}).always(function(){r.loaded(!0)})},c.routecallback=function(e){this.load(e.params)},c.onapply=function(){},l}),define("viewmodel.weblauncher",["jquery","knockout","service","util","viewmodel.base"],function(e,t,i,n,o){var r,s=function(){this.category=t.observable(0),this.adult=t.observable(0),this.comics=t.observable(!1),this.tv=t.observable(!1),this.onTv=function(){return setTimeout(function(){i("player")().showTV()},100),!0},this.onClose=function(){i("weblauncher").close()}};return s.prototype=new o,s.constructor=s,r=s.prototype,r.init=function(t){var i={section:"#weblauncher_header",actionPrevent:!1};return i=e.extend(i,t),o.prototype.init.call(this,i),this.applyActionPrevent(i.actionPrevent),this},r.applyActionPrevent=function(t){t===!0&&e("body").on("contextmenu",n.noop).on("selectstart",n.noop).on("dragstart",n.noopstop)},r.showSection=function(t){var i=e(".section-movie"),n=e(".section-comic"),o=e(".section-tv");"comic"===t?(i.hide(),o.hide(),n.show()):"tv"===t?(i.hide(),o.show(),n.hide()):(i.show(),o.hide(),n.hide())},r.rc_mainmenu=function(e){var t=e.params;this.category(t.category),this.adult(t.adult),this.comics(!1),this.tv(!1),this.showSection("movie")},r.rc_comicmenu=function(e){e.params;this.category(-1),this.comics(!0),this.tv(!1),this.showSection("comic")},r.rc_tvmenu=function(){this.category(-1),this.comics(!1),this.tv(!0),this.showSection("tv")},s}),define("main",["jquery","knockout","service.route","viewmodel","util"],function(e,t,i,n){e(function(){var t=__info__,o=0;return n("movielist").init().apply(),n("moviedetail").init().apply(),n("comiclist").init().apply(),n("comicdetail").init().apply(),n("comicmenu").init().apply(),n("weblauncher").init({actionPrevent:!0}).apply(),t&&20==t.svc_status?(o=parseInt(t.id_prod,2),void i(4&o?"#/movie/1/0":"#/tv")):void e("#panel_err").show()})}),require(["main"]);